"use strict";var hamburgerMenu=document.getElementById("hamburger__menu"),nav=document.getElementById("nav__menu"),searchMenu=document.getElementById("search__menu"),searchForm=document.getElementById("search__form"),cartButton=document.getElementById("cart__button"),shoppingCart=document.getElementById("shopping__cart"),shoppingCartEmptyContent=document.getElementById("et__pizza__cart__empty__content"),featuredFlavorsList=document.getElementById("featured__flavors__list");function sumAmounts(t,e){return t+e}function amountFormatter(t){return new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}function getTotalAmount(){var t=Array.from(document.querySelectorAll(".et__pizza__cart__loaded__item__subtotal__amount")).map(function(t){return parseFloat(t.textContent)}),e=0;return t.length<2?e+=t[0]:e+=t.reduce(sumAmounts),e}function updateTotalAmount(t){document.getElementById("et__pizza__cart__checkout__amount__number").textContent=amountFormatter(t)}hamburgerMenu.addEventListener("click",function(){hamburgerMenu.classList.toggle("active"),nav.classList.toggle("show")}),searchMenu.addEventListener("click",function(){searchMenu.classList.toggle("active"),searchForm.classList.toggle("show")}),cartButton.addEventListener("click",function(){cartButton.classList.toggle("active"),shoppingCart.classList.toggle("show")}),featuredFlavorsList.addEventListener("click",function(t){if(t.target.matches(".js__et__featured__flavors__cart__button")){if(!shoppingCartEmptyContent.classList.contains("hide")){shoppingCartEmptyContent.classList.add("hide");var e=document.createElement("ul");e.classList.add("list__reset","et__pizza__cart__loaded__list"),e.id="et__pizza__cart__loaded__list",shoppingCart.insertAdjacentElement("beforeend",e)}var _=t.target.closest(".js__et__featured__flavors__list__item"),a={price:parseFloat(_.querySelector(".js__et__featured__flavors__price").textContent),qty:parseInt(_.querySelector(".js__et__featured__flavors__quantifier").value)},r=document.getElementById("et__pizza__cart__loaded__list"),n=r.querySelector('.et__pizza__cart__loaded__list__item[data-flavor = "'+_.dataset.flavor+'"]');if(null!==n)a.qty=parseInt(_.querySelector(".js__et__featured__flavors__quantifier").value),n.querySelector(".et__pizza__cart__item__qty").textContent=a.qty,n.querySelector(".et__pizza__cart__loaded__item__subtotal__amount").textContent=amountFormatter(a.qty*a.price);else{a.id=_.dataset.flavor,a.imgThumbnail={imgSrc:_.querySelector(".js__et__featured__flavors__img").src,imgAlt:_.querySelector(".js__et__featured__flavors__img").alt},a.name=_.querySelector(".js__et__featured__flavors__name").textContent;var o=document.createElement("li");o.classList.add("et__pizza__cart__loaded__list__item"),o.dataset.flavor=a.id,o.innerHTML='<figure class="figure__reset et__pizza__cart__loaded__item__figure"><img src="'+a.imgThumbnail.imgSrc+'" alt="'+a.imgThumbnail.imgAlt+'" class="et__pizza__cart__loaded__item__img"><figcaption class="et__pizza__cart__loaded__item__figcaption"><p class="et__pizza__cart__loaded__item__name">'+a.name+'</p><p class="et__pizza__cart__loaded__item__count"><span class="et__pizza__cart__item__qty">'+a.qty+"</span> x USD "+amountFormatter(a.price)+'</p></figcaption></figure><p class="et__pizza__cart__loaded__item__subtotal">USD <span class="et__pizza__cart__loaded__item__subtotal__amount">'+amountFormatter(a.qty*a.price)+'</span></p><button type="button" class="button__reset et__pizza__cart__loaded__item__trash__button"><svg viewBox="0 0 22 24" class="et__pizza__cart__loaded__item__trash__icon" aria-hidden="true"><use href="./assets/imgs/svg/icons.svg#trash__can"></use></svg><span class="screen__reader__text">Delete '+a.name+"</span></button>",r.insertAdjacentElement("beforeend",o)}if(null===document.getElementById("et__pizza__cart__checkout")){var s=document.createElement("div");s.classList.add("et__pizza__cart__checkout"),s.id="et__pizza__cart__checkout",s.innerHTML='<p class="et__pizza__cart__checkout__amount">USD <span id="et__pizza__cart__checkout__amount__number">'+amountFormatter(getTotalAmount())+'</span></p><a class="et__pizza__cart__checkout__link" href="#">Checkout<svg viewBox="0 0 25 8" class="et__pizza__cart__checkout__arrow__icon" aria-hidden="true"><use href="./assets/imgs/svg/icons.svg#checkout__arrow"></use></svg></a>',shoppingCart.insertAdjacentElement("beforeend",s)}else updateTotalAmount(amountFormatter(getTotalAmount()))}}),shoppingCart.addEventListener("click",function(t){if(t.target.matches(".et__pizza__cart__loaded__item__trash__button")){var e=t.target.closest(".et__pizza__cart__loaded__list__item"),_=document.getElementById("et__pizza__cart__loaded__list");if(1===_.children.length)[_,document.getElementById("et__pizza__cart__checkout")].forEach(function(t){return shoppingCart.removeChild(t)}),shoppingCartEmptyContent.classList.remove("hide");else _.removeChild(e),updateTotalAmount(amountFormatter(getTotalAmount()))}});